
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Personal fork of Go Programming Language Wiki">
      
      
      
      
        <link rel="canonical" href="https://zchee.github.io/golang-wiki/Resolving-Problems-From-Modified-Module-Path/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.1, mkdocs-material-7.1.9">
    
    
      
        <title>Resolving Problems From Modified Module Path - Go Programming Language Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ca7ac06f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.f1a3b89f.min.css">
        
          
          
          <meta name="theme-color" content="#2094f3">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
  



  
  



  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-89201129-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="blue" data-md-color-accent="blue">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#unexpected-module-path" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Go Programming Language Wiki" class="md-header__button md-logo" aria-label="Go Programming Language Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Go Programming Language Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Resolving Problems From Modified Module Path
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/zchee/golang-wiki/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    zchee/golang-wiki
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Go Programming Language Wiki" class="md-nav__button md-logo" aria-label="Go Programming Language Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Go Programming Language Wiki
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/zchee/golang-wiki/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    zchee/golang-wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Home/" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Articles/" class="md-nav__link">
        Articles
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../AssemblyPolicy/" class="md-nav__link">
        AssemblyPolicy
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../AVX512/" class="md-nav__link">
        AVX512
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Benchmarks/" class="md-nav__link">
        Benchmarks
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/" class="md-nav__link">
        Blogs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Books/" class="md-nav__link">
        Books
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../BoundingResourceUse/" class="md-nav__link">
        BoundingResourceUse
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cgo/" class="md-nav__link">
        cgo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ChromeOS/" class="md-nav__link">
        ChromeOS
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CodeReview/" class="md-nav__link">
        CodeReview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CodeReviewComments/" class="md-nav__link">
        CodeReviewComments
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CodeReviewConcurrency/" class="md-nav__link">
        CodeReviewConcurrency
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CodeTools/" class="md-nav__link">
        CodeTools
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Comments/" class="md-nav__link">
        Comments
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CommitMessage/" class="md-nav__link">
        CommitMessage
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CommonMistakes/" class="md-nav__link">
        CommonMistakes
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CompilerOptimizations/" class="md-nav__link">
        CompilerOptimizations
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Conferences/" class="md-nav__link">
        Conferences
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Configuring-GoLand-for-WebAssembly/" class="md-nav__link">
        Configuring GoLand for WebAssembly
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Contributing-to-gopls/" class="md-nav__link">
        Contributing to gopls
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CoreDumpDebugging/" class="md-nav__link">
        CoreDumpDebugging
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Courses/" class="md-nav__link">
        Courses
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CreatingSubRepository/" class="md-nav__link">
        CreatingSubRepository
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CSSStyleGuide/" class="md-nav__link">
        CSSStyleGuide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CustomPprofProfiles/" class="md-nav__link">
        CustomPprofProfiles
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Darwin/" class="md-nav__link">
        Darwin
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../DashboardBuilders/" class="md-nav__link">
        DashboardBuilders
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Deprecated/" class="md-nav__link">
        Deprecated
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../DesignDocuments/" class="md-nav__link">
        DesignDocuments
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../DevExp/" class="md-nav__link">
        DevExp
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Diagnostics/" class="md-nav__link">
        Diagnostics
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Download-build-farm-failed-logs-and-debugging/" class="md-nav__link">
        Download build farm failed logs and debugging
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../DragonFly-BSD/" class="md-nav__link">
        DragonFly BSD
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Errors/" class="md-nav__link">
        Errors
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ErrorValueFAQ/" class="md-nav__link">
        ErrorValueFAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ExperienceReports/" class="md-nav__link">
        ExperienceReports
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../FileTreeDocumentation/" class="md-nav__link">
        FileTreeDocumentation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../FreeBSD/" class="md-nav__link">
        FreeBSD
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../FromXToGo/" class="md-nav__link">
        FromXToGo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Frozen/" class="md-nav__link">
        Frozen
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Gardening/" class="md-nav__link">
        Gardening
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GccgoCrossCompilation/" class="md-nav__link">
        GccgoCrossCompilation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GcToolchainTricks/" class="md-nav__link">
        GcToolchainTricks
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GerritAccess/" class="md-nav__link">
        GerritAccess
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GerritBot/" class="md-nav__link">
        GerritBot
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GithubAccess/" class="md-nav__link">
        GithubAccess
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GitHubCodeLayout/" class="md-nav__link">
        GitHubCodeLayout
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go-1.10-Release-Party/" class="md-nav__link">
        Go 1.10 Release Party
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go-1.6-release-party/" class="md-nav__link">
        Go 1.6 release party
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go-1.8-Release-Party/" class="md-nav__link">
        Go 1.8 Release Party
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go-Community-Slides/" class="md-nav__link">
        Go Community Slides
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go-Release-Cycle/" class="md-nav__link">
        Go Release Cycle
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go1point1Gotchas/" class="md-nav__link">
        Go1point1Gotchas
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go2/" class="md-nav__link">
        Go2
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go2ErrorHandlingFeedback/" class="md-nav__link">
        Go2ErrorHandlingFeedback
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go2ErrorValuesFeedback/" class="md-nav__link">
        Go2ErrorValuesFeedback
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Go2GenericsFeedback/" class="md-nav__link">
        Go2GenericsFeedback
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoArm/" class="md-nav__link">
        GoArm
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoForCPPProgrammers/" class="md-nav__link">
        GoForCPPProgrammers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoGenerateTools/" class="md-nav__link">
        GoGenerateTools
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoGetProxyConfig/" class="md-nav__link">
        GoGetProxyConfig
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoGetTools/" class="md-nav__link">
        GoGetTools
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../golang-tools/" class="md-nav__link">
        golang tools
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoMips/" class="md-nav__link">
        GoMips
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Gomote/" class="md-nav__link">
        Gomote
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GOPATH/" class="md-nav__link">
        GOPATH
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Gopher/" class="md-nav__link">
        Gopher
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gopherbot/" class="md-nav__link">
        gopherbot
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Gophers-Tunisia/" class="md-nav__link">
        Gophers Tunisia
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gopls-integrator-FAQ/" class="md-nav__link">
        gopls integrator FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../gopls/" class="md-nav__link">
        gopls
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoStrings/" class="md-nav__link">
        GoStrings
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoTalks/" class="md-nav__link">
        GoTalks
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoUserGroups/" class="md-nav__link">
        GoUserGroups
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoUsers/" class="md-nav__link">
        GoUsers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../GoVsGenerics/" class="md-nav__link">
        GoVsGenerics
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../HandlingIssues/" class="md-nav__link">
        HandlingIssues
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Hashing/" class="md-nav__link">
        Hashing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../heapdump13/" class="md-nav__link">
        heapdump13
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../heapdump14/" class="md-nav__link">
        heapdump14
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../heapdump15-through-heapdump17/" class="md-nav__link">
        heapdump15 through heapdump17
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../heapdump15/" class="md-nav__link">
        heapdump15
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../HostedContinuousIntegration/" class="md-nav__link">
        HostedContinuousIntegration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../How-to-ask-for-help/" class="md-nav__link">
        How to ask for help
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../HowToAsk/" class="md-nav__link">
        HowToAsk
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../HttpFetch/" class="md-nav__link">
        HttpFetch
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../HttpStaticFiles/" class="md-nav__link">
        HttpStaticFiles
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../IDEsAndTextEditorPlugins/" class="md-nav__link">
        IDEsAndTextEditorPlugins
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../InstallFromSource/" class="md-nav__link">
        InstallFromSource
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../InterfaceSlice/" class="md-nav__link">
        InterfaceSlice
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../InvalidFlag/" class="md-nav__link">
        InvalidFlag
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Iota/" class="md-nav__link">
        Iota
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../IssueLabels/" class="md-nav__link">
        IssueLabels
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Learn/" class="md-nav__link">
        Learn
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../LearnConcurrency/" class="md-nav__link">
        LearnConcurrency
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../LearnErrorHandling/" class="md-nav__link">
        LearnErrorHandling
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../LearnServerProgramming/" class="md-nav__link">
        LearnServerProgramming
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../LearnTesting/" class="md-nav__link">
        LearnTesting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Linux/" class="md-nav__link">
        Linux
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../LinuxKernelSignalVectorBug/" class="md-nav__link">
        LinuxKernelSignalVectorBug
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Livestreams/" class="md-nav__link">
        Livestreams
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../LockOSThread/" class="md-nav__link">
        LockOSThread
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../MethodSets/" class="md-nav__link">
        MethodSets
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../MinimumRequirements/" class="md-nav__link">
        MinimumRequirements
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../MinorReleases/" class="md-nav__link">
        MinorReleases
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Mobile/" class="md-nav__link">
        Mobile
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Modules/" class="md-nav__link">
        Modules
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../MultipleGoRoots/" class="md-nav__link">
        MultipleGoRoots
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../MutexOrChannel/" class="md-nav__link">
        MutexOrChannel
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../NativeClient/" class="md-nav__link">
        NativeClient
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../NetBSD/" class="md-nav__link">
        NetBSD
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../NewSpeakers/" class="md-nav__link">
        NewSpeakers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../NoMeToo/" class="md-nav__link">
        NoMeToo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../NonEnglish/" class="md-nav__link">
        NonEnglish
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../NoPlusOne/" class="md-nav__link">
        NoPlusOne
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../OlderVersions/" class="md-nav__link">
        OlderVersions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../OpenBSD/" class="md-nav__link">
        OpenBSD
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../PackageManagementTools/" class="md-nav__link">
        PackageManagementTools
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../PackagePublishing/" class="md-nav__link">
        PackagePublishing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../PanicAndRecover/" class="md-nav__link">
        PanicAndRecover
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../PerfDashboard/" class="md-nav__link">
        PerfDashboard
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Performance/" class="md-nav__link">
        Performance
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Plan9/" class="md-nav__link">
        Plan9
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Podcasts/" class="md-nav__link">
        Podcasts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../PortingPolicy/" class="md-nav__link">
        PortingPolicy
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../PriorDiscussion/" class="md-nav__link">
        PriorDiscussion
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Projects/" class="md-nav__link">
        Projects
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Proposals/" class="md-nav__link">
        Proposals
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ProviderIntegration/" class="md-nav__link">
        ProviderIntegration
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Questions/" class="md-nav__link">
        Questions
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../RaceDetector/" class="md-nav__link">
        RaceDetector
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Range/" class="md-nav__link">
        Range
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../RateLimiting/" class="md-nav__link">
        RateLimiting
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Rationales/" class="md-nav__link">
        Rationales
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ResearchPapers/" class="md-nav__link">
        ResearchPapers
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Resolving Problems From Modified Module Path
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Resolving Problems From Modified Module Path
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#unexpected-module-path" class="md-nav__link">
    Unexpected module path
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-references-to-the-name" class="md-nav__link">
    Removing References To The Name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-harder-problem-removing-trailing-history" class="md-nav__link">
    A Harder Problem: Removing Trailing History
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#atomically-version-bumping-two-libraries" class="md-nav__link">
    Atomically Version Bumping Two Libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#larger-cycles" class="md-nav__link">
    Larger Cycles
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Screencasts/" class="md-nav__link">
        Screencasts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SendingMail/" class="md-nav__link">
        SendingMail
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SettingGOPATH/" class="md-nav__link">
        SettingGOPATH
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SignalHandling/" class="md-nav__link">
        SignalHandling
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SimultaneousAssignment/" class="md-nav__link">
        SimultaneousAssignment
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SliceTricks/" class="md-nav__link">
        SliceTricks
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SlowBots/" class="md-nav__link">
        SlowBots
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Solaris/" class="md-nav__link">
        Solaris
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Spectre/" class="md-nav__link">
        Spectre
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Spelling/" class="md-nav__link">
        Spelling
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SQLDrivers/" class="md-nav__link">
        SQLDrivers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SQLInterface/" class="md-nav__link">
        SQLInterface
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Style/" class="md-nav__link">
        Style
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../SuccessStories/" class="md-nav__link">
        SuccessStories
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Switch/" class="md-nav__link">
        Switch
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../TableDrivenTests/" class="md-nav__link">
        TableDrivenTests
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../TargetSpecific/" class="md-nav__link">
        TargetSpecific
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../TestComments/" class="md-nav__link">
        TestComments
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Timeouts/" class="md-nav__link">
        Timeouts
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Training/" class="md-nav__link">
        Training
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Ubuntu/" class="md-nav__link">
        Ubuntu
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../vgo/" class="md-nav__link">
        vgo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../WebAccessibilityResourcesAndTips/" class="md-nav__link">
        WebAccessibilityResourcesAndTips
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../WebAssembly/" class="md-nav__link">
        WebAssembly
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Well-known-struct-tags/" class="md-nav__link">
        Well known struct tags
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../WhyGo/" class="md-nav__link">
        WhyGo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../windows-scoop-install-go-cli/" class="md-nav__link">
        windows scoop install go cli
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../Windows/" class="md-nav__link">
        Windows
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../WindowsBuild/" class="md-nav__link">
        WindowsBuild
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../WindowsCrossCompiling/" class="md-nav__link">
        WindowsCrossCompiling
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../WindowsDLLs/" class="md-nav__link">
        WindowsDLLs
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../X-Repositories/" class="md-nav__link">
        X Repositories
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/zchee/golang-wiki/edit/master/docs/Resolving-Problems-From-Modified-Module-Path.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Resolving Problems From Modified Module Path</h1>
                
                <h2 id="unexpected-module-path">Unexpected module path<a class="headerlink" href="#unexpected-module-path" title="Permanent link"></a></h2>
<p>A user working on their project, <code>my-go-project</code>, might run into an error during <code>go get -u</code> as such:</p>
<div class="highlight"><pre><span></span><code>$ cd my-go-project
$ go get -u ./...
[...]
go: github.com/golang/lint@v0.0.0-20190313153728-d0100b6bd8b3: parsing go.mod: unexpected module path &quot;golang.org/x/lint&quot;
[...]
Exit code 1
</code></pre></div>
<p><code>golang.org/x/lint</code> is a module whose git repository and module name used to be <code>github.com/golang/lint</code> before migrating to the git repo <code>golang.org/x/lint</code> and renaming its module name to <code>golang.org/x/lint</code>. The Go tool currently stumbles trying to understand the old module name at the new git repository: <a href="https://github.com/golang/go/issues/30831">golang/go#30831</a>.</p>
<p>This was surfaced to <code>my-go-project</code> because <code>my-go-project</code> or one of its transitive dependencies has a route in the module graph to the old <code>github.com/golang/lint</code> module name.</p>
<p>For example, if <code>my-go-project</code> itself relies on the old <code>github.com/golang/lint</code> module name:</p>
<div class="highlight"><pre><span></span><code>$ GO111MODULE=on go mod graph
my-go-project github.com/golang/lint@v0.0.0-20180702182130-06c8688daad7
</code></pre></div>
<p>Or, perhaps <code>my-go-project</code> depends on an old version of <code>google.golang.org/grpc</code> which depends on the old <code>github.com/golang/lint</code> module name:</p>
<div class="highlight"><pre><span></span><code>$ GO111MODULE=on go mod graph
my-go-project google.golang.org/grpc@v1.16.0
google.golang.org/grpc@v1.16.0 github.com/golang/lint@v0.0.0-20180702182130-06c8688daad7
</code></pre></div>
<p>Finally, perhaps <code>my-go-project</code> depends on another dependency that requires an old version of <code>google.golang.org/grpc</code>, which in turn depends on the old <code>github.com/golang/lint</code> module name:</p>
<div class="highlight"><pre><span></span><code>$ GO111MODULE=on go mod graph
my-go-project some/dep@v1.2.3
...
another/dep@v1.4.2 google.golang.org/grpc@v1.16.0
google.golang.org/grpc@v1.16.0 github.com/golang/lint@v0.0.0-20180702182130-06c8688daad7
</code></pre></div>
<h2 id="removing-references-to-the-name">Removing References To The Name<a class="headerlink" href="#removing-references-to-the-name" title="Permanent link"></a></h2>
<p>Until the Go tool is updated to understand a module which has changed its module path (tracking in <a href="https://github.com/golang/go/issues/30831">golang/go#30831</a>), the solution to this is to update the graph so that there are no more paths to the old module name.</p>
<p>Using the examples above, we'll explore updating the graph so that there are no more paths to <code>github.com/golang/lint</code>.</p>
<p>Fixing the first example is simple, the only link is from <code>my-go-project</code> - which the user controls! Replacing the old location with the new in the <code>go.mod</code> - <code>github.com/golang/lint@v0.0.0-20180702182130-06c8688daad7</code> with <code>golang.org/x/lint v0.0.0-20190301231843-5614ed5bae6f</code> - removes the link from the graph:</p>
<div class="highlight"><pre><span></span><code>$ GO111MODULE=on go mod graph
my-go-project golang.org/x/lint@v0.0.0-20190301231843-5614ed5bae6f
</code></pre></div>
<p>Fixing the second example involves more steps but is essentially the same process: <code>google.golang.org/grpc@v1.16.0</code> provides the link to <code>github.com/golang/lint</code>, so <code>google.golang.org/grpc</code> should update its <code>go.mod</code> from <code>github.com/golang/lint@v0.0.0-20180702182130-06c8688daad7</code> to <code>golang.org/x/lint v0.0.0-20190301231843-5614ed5bae6f</code> (this thankfully already happened in <code>v1.17.0</code>). Then, <code>my-go-project</code> should update its <code>go.mod</code> to include the new version of <code>google.golang.org/grpc</code>, so that we now have:</p>
<div class="highlight"><pre><span></span><code>$ GO111MODULE=on go mod graph
my-go-project google.golang.org/grpc@v1.17.0
google.golang.org/grpc@v1.17.0 golang.org/x/lint@v0.0.0-20181026193005-c67002cb31c3
</code></pre></div>
<p>Fixing the third example is similar to the second: update to a newer version of <code>another/dep</code> which brings in the newer version of <code>google.golang.org/grpc</code> which does not contain a reference to <code>github.com/golang/lint</code>.</p>
<p>Hooray! Problems solved - there are no more paths to <code>github.com/golang/lint</code> for the Go tool to consider, so it does not trip up on this problem during <code>go get -u</code>.</p>
<h2 id="a-harder-problem-removing-trailing-history">A Harder Problem: Removing Trailing History<a class="headerlink" href="#a-harder-problem-removing-trailing-history" title="Permanent link"></a></h2>
<p>This is all well and good, and should satisfy most user's problems.</p>
<p>However, there is one situation that ends up being quite a bit more involved: when there are cycles in the module dependency graph. Consider this module dependency graph:</p>
<p><img alt="Module Dependency Graph With A Cycle" src="https://github.com/jadekler/module-testing/blob/master/imagery/Mod%20Graph%20With%20Cycle.jpg" /></p>
<p>And, let's imagine that <code>some/lib</code> used to depend on <code>github.com/golang/lint</code>.</p>
<p>Let's look at this module dependency graph with versions included:</p>
<div class="highlight"><pre><span></span><code>$ go mod graph
my-go-lib some/lib@v1.7.0
some/lib@v1.7.0 some-other/lib@v2.5.3
some/lib@v1.7.0 golang.org/x/lint@v0.0.0-20181026193005-c67002cb31c3
some-other/lib@v2.5.3 some/lib@v1.6.0
some/lib@v1.6.0 some-other/lib@v2.5.0
some/lib@v1.6.0 golang.org/x/lint@v0.0.0-20181026193005-c67002cb31c3
some-other/lib@v2.5.0 some/lib@v1.3.1
some/lib@v1.3.1 some-other/lib@v2.4.8
some/lib@v1.3.1 golang.org/x/lint@v0.0.0-20181026193005-c67002cb31c3
some-other/lib@v2.4.8 some/lib@v1.3.0
some/lib@v1.3.0 some-other/lib@v2.4.7
some/lib@v1.3.0 github.com/golang/lint@v0.0.0-20180702182130-06c8688daad7
</code></pre></div>
<p>Visualized with <a href="https://godoc.org/golang.org/x/exp/cmd/modgraphviz">golang.org/x/exp/cmd/modgraphviz</a>:</p>
<p><img alt="A Module Dependency Graph With Trailing History" src="https://github.com/jadekler/module-testing/blob/master/imagery/graph1.png" /></p>
<p>Here we see that even though the last several versions of <code>some/lib</code> correctly depend on <code>golang.org/x/lint</code>, the fact that <code>some/lib</code> and <code>some-other/lib</code> share a cycle mean that there's very likely to be a path far back in time.</p>
<p>The reason such paths occur is because the process of bumping versions is usually individually atomic: when <code>some/lib</code> bumps its version of <code>some-other/lib</code> and release a new version of itself, the latest version of <code>some-other/lib</code> still depends on the previous version of <code>some/lib</code>. That is, no individual bump of either of these libraries will be enough to remove the chain into history.</p>
<p>To remove the chain into history and remove the old <code>github.com/golang/lint</code> reference from the graph for good, both libraries have to bump their versions of each other at the same time.</p>
<h2 id="atomically-version-bumping-two-libraries">Atomically Version Bumping Two Libraries<a class="headerlink" href="#atomically-version-bumping-two-libraries" title="Permanent link"></a></h2>
<p>The solution to removing <code>github.com/golang/lint</code> is to first make sure <code>some/lib</code> doesn't depend on <code>github.com/golang/lint</code>, and then to bump both <code>some/lib</code> and <code>some-other/lib</code> to non-existent future versions of each other. We want this kind of a graph:</p>
<div class="highlight"><pre><span></span><code>my-go-lib some/lib@v1.7.1
some/lib@v1.7.1 some-other/lib@v2.5.4
some/lib@v1.7.1 golang.org/x/lint@v0.0.0-20181026193005-c67002cb31c3
some-other/lib@v2.5.4 some/lib@v1.7.1
</code></pre></div>
<p><img alt="A Module Dependency Graph Without Trailing History" src="https://github.com/jadekler/module-testing/blob/master/imagery/graph2.png" /></p>
<p>Since <code>some/lib</code> and <code>some-other/lib</code> depend on each other at the same version, there's no path backwards in time to a point where <code>github.com/golang/lint</code> is provided.</p>
<p>Here are the steps to achieve this atomic version bump, assuming <code>some/lib</code> is at <code>v1.7.0</code> and <code>some-other/lib</code> is at <code>v2.5.3</code>:</p>
<ol>
<li>Verify that the error does in fact exist:<ol>
<li>Run <code>GO111MODULE=on go get -u ./...</code> in <code>some/lib</code> and <code>some-other/lib</code>. </li>
<li>In both repos you should observe the error go: <code>github.com/golang/lint@v0.0.0-20190313153728-d0100b6bd8b3: parsing go.mod: unexpected module path "golang.org/x/lint"</code>.</li>
</ol>
</li>
<li>Verify that the latest version of <code>some/lib</code> depends on <code>golang.org/x/lint</code> instead of <code>github.com/golang/lint</code>. It would be a shame to remove the historical trails but keep the broken dependency to <code>github.com/golang/lint</code>!</li>
<li>Bump both libs to non-existent future versions of each other using alpha tags (which are safer since go modules won't consider alpha versions as newer when evaluating the latest released version of a module):<ol>
<li><code>some/lib</code> changes its <code>some-other/lib</code> dependency from <code>v2.5.3</code> to <code>v2.5.4-alpha</code>.</li>
<li><code>some/lib</code> tags the commit <code>v1.7.1-alpha</code> and pushes the commit and tag.</li>
<li><code>some-other/lib</code> changes its <code>some/lib</code> dependency from <code>v1.6.0</code> to <code>v1.7.1-alpha</code>.</li>
<li><code>some-other/lib</code> tags the commit <code>v2.5.4-alpha</code> and pushes the commit and tag.</li>
</ol>
</li>
<li>Verify results whilst things are still in an alpha state:<ol>
<li><code>GO111MODULE=on go build ./...</code> &amp;&amp; <code>go test ./...</code> in <code>some/lib</code>.</li>
<li><code>GO111MODULE=on go build ./...</code> &amp;&amp; <code>go test ./...</code> in <code>some-other/lib</code>.</li>
<li><code>GO111MODULE=on go mod graph</code> in both repos and assert that there's no path to <code>github.com/golang/lint</code>.</li>
<li>Note: <code>go get -u</code> still will not work because - as mentioned above - alpha versions aren't considered when evaluating latest versions.</li>
</ol>
</li>
<li>If everything looks good, continue by once again bumping to non-existent future versions of each other:<ol>
<li><code>some/lib</code> changes its <code>some-other/lib</code> dependency from <code>v2.5.4-alpha</code> to <code>v2.5.4</code></li>
<li><code>some/lib</code> tags the commit <code>v1.7.1</code> and pushes the commit and tag.</li>
<li><code>some-other/lib</code> changes its <code>some/lib</code> dependency from <code>v1.7.1-alpha</code> to <code>v1.7.1</code>.</li>
<li><code>some-other/lib</code> tags the commit <code>v2.5.4</code> and pushes the commit and tag. </li>
</ol>
</li>
<li>Verify that the error no longer exists:<ol>
<li>Run <code>GO111MODULE=on go get -u ./...</code> in <code>some/lib</code> and <code>some-other/lib</code>.</li>
<li>No parsing <code>go.mod: unexpected module path "golang.org/x/lint"</code> error should occur.</li>
</ol>
</li>
<li>Currently, the <code>go.sum</code>s of <code>some/lib</code> and <code>some-other/lib</code> are incomplete. This is due to the fact that we depended upon future, non-existent versions of modules, so we were not able to generate go.sum entries until the process was finished. So let's fix this:<ol>
<li><code>GO111MODULE=on go mod tidy</code> in <code>some/lib</code>.</li>
<li>Commit, tag the commit <code>v1.7.2</code>, and push both commit and tag.</li>
<li><code>GO111MODULE=on go mod tidy</code> in <code>some-other/lib</code>.</li>
<li>Commit, tag the commit <code>v2.5.5</code>, and push both commit and tag.</li>
</ol>
</li>
<li>Finally, let's make sure that <code>my-go-project</code> depends on these new versions of <code>some/lib</code> and <code>some-other/lib</code> which do not have long historical tails:<ol>
<li>Change the <code>my-go-project</code> <code>go.mod</code> entry from <code>some/lib v1.7.0</code> to <code>some/lib 1.7.2</code>.</li>
<li>Test by running <code>GO111MODULE=on go get -u ./...</code> in <code>my-go-project</code>. </li>
</ol>
</li>
</ol>
<p>Note that between steps 5.b and 5.d, users are broken: a version of <code>some/lib</code> has been released that depends on a non-existent version of <code>some-other/lib</code>. Therefore, this process should ideally been done real-time so that step 5.d is finished very soon after step 5.b, creating as small a window of breakage as possible.</p>
<h2 id="larger-cycles">Larger Cycles<a class="headerlink" href="#larger-cycles" title="Permanent link"></a></h2>
<p>This example explained the process for removing historical trails when there exists a cycle involving two packages in a graph, but what about if there are cycles involving more packages? For example, consider the following graphs:</p>
<p><img alt="Module Dependency Graph With Four Related Cycles" src="https://github.com/jadekler/module-testing/blob/master/imagery/Mod%20Graph%20With%204%20Cycle_%20A.jpg" /></p>
<p><img alt="Module Dependency Graph With One Four Vertex Cycle" src="https://github.com/jadekler/module-testing/blob/master/imagery/Mod%20Graph%20With%204%20Cycle_%20B.jpg" /></p>
<p>Each of these graphs involve cycles (the latter example) or interconnected modules (the former example) involving four modules, instead of the simple two module example we saw earlier. The process is largely the same, though, but this time in step 3 and 5 we're going to bump all four modules to non-existent future versions of each other, and similarly in steps 4 and 6 we're going to test all four modules, and in step 7 fix the go.sum of all four modules.</p>
<p>More generally, the process above holds for any group of interconnected modules involving any n modules: each major step just involves n modules acting in coordination. </p>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: 2021-06-30
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../ResearchPapers/" class="md-footer__link md-footer__link--prev" aria-label="Previous: ResearchPapers" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              ResearchPapers
            </div>
          </div>
        </a>
      
      
        
        <a href="../Screencasts/" class="md-footer__link md-footer__link--next" aria-label="Next: Screencasts" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Screencasts
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.sections", "navigation.expand", "toc.integrate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.82b56eb2.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>